package com.lwb.music.base;import android.os.Bundle;import android.support.annotation.NonNull;import android.support.annotation.Nullable;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import com.lwb.music.R;import com.lwb.music.interfaces.MusicController;public abstract class BaseFragment extends Fragment implements View.OnClickListener {    protected View rootView;    protected MusicController musicController;    protected ImageView backView, moreView;    protected TextView titleView;    public void setMusicController(MusicController musicController) {        this.musicController = musicController;    }    @Nullable    @Override    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {        if (rootView == null) {            View contentView = inflater.inflate(getLayout(), container, false);            if (showHeader()) {                rootView = inflater.inflate(R.layout.fragment_base, container, false);                ViewGroup containerView = rootView.findViewById(R.id.container_view);                containerView.addView(contentView, -1, -1);            } else {                rootView = contentView;            }            initView(contentView);        }        initData();        if (showHeader()) {            initHeader(rootView);        }        return rootView;    }    private void initHeader(View rootView) {        backView = rootView.findViewById(R.id.base_back);        titleView = rootView.findViewById(R.id.base_title);        if (showHeader()) {            backView.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    getActivity().onBackPressed();                }            });        }        titleView.setText(getTitle());        moreView = rootView.findViewById(R.id.base_more);        if (getMoreRes() != 0) {            moreView.setImageResource(getMoreRes());            moreView.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    onMoreClick(v);                }            });        }        initMoreView(moreView);    }    protected void initMoreView(ImageView moreView) {    }    protected void onMoreClick(View v) {    }    protected int getMoreRes() {        return 0;    }    protected String getTitle() {        return "";    }    protected boolean showHeader() {        return true;    }    protected abstract int getLayout();    protected abstract void initView(View view);    protected void initData() {    }    public void startFragment(Fragment fragment) {        BaseActivity activity = (BaseActivity) getActivity();        activity.startFragment(fragment);    }    public void popBack() {        BaseActivity activity = (BaseActivity) getActivity();        activity.getSupportFragmentManager().popBackStackImmediate();    }    @Override    public void onClick(View v) {    }}